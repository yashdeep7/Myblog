<!DOCTYPE html>
<html>
<head>
  <title>Search Results</title>
  <link rel="stylesheet" href="/style.css">
</head>
<body>
  <!-- Navbar -->
  <div class="navbar">
      <a href="/">Home</a>
      <% if (!userId) { %>
          <a href="/login">Login</a>
          <a href="/register">Register</a>
      <% } else { %>
          <a href="/new">Create Post</a>
          <a href="/logout">Logout</a>
      <% } %>
      <!-- Search form -->
      <form action="/search" method="GET" style="display:inline;">
          <input type="text" name="q" placeholder="Search posts..." required>
          <button type="submit">Search</button>
      </form>
  </div>

  <div class="container">
      <h1 style="text-align:center; margin-top:20px;">Search Results for "<%= query %>"</h1>

      <% if (posts.length === 0) { %>
          <p style="text-align:center; margin-top:20px;">No posts found.</p>
      <% } else { %>
          <% posts.forEach(post => { %>
              <div class="post-card">
                  <h2><a href="/post/<%= post.id %>"><%= post.title %></a></h2>
                  <p><%= post.content.substring(0, 100) %>...</p>
                  <p class="post-meta">By User <%= post.user_id %> | <%= new Date(post.created_at).toDateString() %></p>
              </div>
          <% }) %>
      <% } %>
  </div>
</body>
</html>
